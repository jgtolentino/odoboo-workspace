[options]
# Database
db_host = db
db_port = 5432
db_user = odoo
db_password = ${DB_PASSWORD}
db_maxconn = 64
db_template = template0

# Security
admin_passwd = ${ADMIN_PASSWORD}
list_db = False
dbfilter = ^%d$  # Lock to specific database (prevents database switching)

# Addons
addons_path = /usr/lib/python3/dist-packages/odoo/addons,/mnt/extra-addons,/mnt/oca-addons

# Performance
workers = 2
max_cron_threads = 1
limit_time_cpu = 600
limit_time_real = 1200
limit_memory_soft = 2147483648
limit_memory_hard = 2684354560

# Networking
proxy_mode = True
xmlrpc_port = 8069
longpolling_port = 8072

# Logging
log_level = info
log_handler = :INFO
log_db = False

# Session
session_expiry_delay = 7200

# File storage
data_dir = /var/lib/odoo

# Server environment (OCA module)
server_wide_modules = base,web,queue_job,server_environment
